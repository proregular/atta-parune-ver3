import{ao as u,u as S,R as p,bd as M,c as n,r as y,Q as I,j as e,be as T,bf as A,bg as Z,v as s,S as g,b7 as F,b8 as _,bh as V,a1 as R,q as E}from"./index-QD4sUlUr.js";import{f as H,g as O}from"./index-2Luirxk7.js";import{u as P}from"./useModal-CUY2NTKe.js";function $(t){return u({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M244.24,60a8,8,0,0,0-7.75-.4c-42.93,21-73.59,11.16-106,.78C96.4,49.53,61.2,38.28,12.49,62.06A8,8,0,0,0,8,69.24V189.17a8,8,0,0,0,11.51,7.19c42.93-21,73.59-11.16,106.05-.78,19.24,6.15,38.84,12.42,61,12.42,17.09,0,35.73-3.72,56.91-14.06a8,8,0,0,0,4.49-7.18V66.83A8,8,0,0,0,244.24,60ZM48,152a8,8,0,0,1-16,0V88a8,8,0,0,1,16,0Zm80,8a32,32,0,1,1,32-32A32,32,0,0,1,128,160Zm96,8a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"},child:[]}]})(t)}function L(t){return u({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M120,16V8a8,8,0,0,1,16,0v8a8,8,0,0,1-16,0Zm80,32a8,8,0,0,0,5.66-2.34l8-8a8,8,0,0,0-11.32-11.32l-8,8A8,8,0,0,0,200,48ZM50.34,45.66A8,8,0,0,0,61.66,34.34l-8-8A8,8,0,0,0,42.34,37.66ZM232,176v24a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V176a16,16,0,0,1,16-16V128a88,88,0,0,1,88.67-88c48.15.36,87.33,40.29,87.33,89v31A16,16,0,0,1,232,176ZM134.68,87.89C153.67,91.08,168,108.32,168,128a8,8,0,0,0,16,0c0-27.4-20.07-51.43-46.68-55.89a8,8,0,1,0-2.64,15.78ZM216,200V176H40v24H216Z"},child:[]}]})(t)}function z(t){return u({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 1.999H4c-1.103 0-2 .897-2 2v18l4-4h14c1.103 0 2-.897 2-2v-12c0-1.103-.897-2-2-2zm-6 11H7v-2h7v2zm3-4H7v-2h10v2z"},child:[]}]})(t)}const c=R.div`
  padding: 5px 10px;
  margin-left: 60px;
  margin-top: 10px;
  cursor: pointer;
  color: #fff;
`,Q=()=>{const t=S(),[a,d]=p(M),[x,w]=n.useState(!1),[q,f]=p(y),{Modal:v,open:b,close:C}=P({title:"결제 비밀번호 재설정",width:450,height:650}),[j,h]=n.useState(""),k=I(),l=Number(sessionStorage.getItem("adminId")),o=parseInt(sessionStorage.getItem("coalitionState"));n.useEffect(()=>{d({"/store":"table","/store/menu":"menu","/store/sales":"sales","/store/info":"store","/store/review":"review"}[location.pathname]||""),location.pathname==="/store/info"&&w(!0)},[location.pathname]);const r=(i,m)=>{d(i),t(m)},N=async()=>{const i={adminId:l};try{await E.patch("/api/admin/v3/coalition-request",i,{headers:{Authorization:`Bearer ${k}`}}),o===0?s.fire({title:`제휴 해지 요청이
정상적으로 접수되었습니다.`,icon:"success"}):o===1&&s.fire({title:`제휴 신청이
성공적으로 완료되었습니다`,icon:"success"})}catch(m){console.log(m)}},B=()=>{o===0||o===1?s.fire({title:j,icon:"question",showCancelButton:!0,confirmButtonColor:"#79BAF2",cancelButtonColor:"#E44B58",confirmButtonText:"확인",cancelButtonText:"취소",reverseButtons:!1}).then(i=>{i.isConfirmed&&N()}):o===2?s.fire({title:`제휴 해지 요청 처리중입니다.
잠시만 기다려 주세요.`,icon:"info"}):o===3&&s.fire({title:`제휴 신청 요청 처리중입니다.
잠시만 기다려 주세요.`,icon:"info"})};return n.useEffect(()=>{o===0?h("제휴 해지 신청을 하시겠습니까?"):o===1&&h("제휴 신청을 하시겠습니까?")},[]),e.jsxs("div",{className:"relative flex flex-col w-44 h-dvh items-center bg-primaryFocus",children:[e.jsxs("div",{className:"w-full mt-8 flex-grow",children:[e.jsx("div",{className:"flex mb-6 px-4 w-44 justify-center items-center",children:e.jsx("img",{src:"/adminLogo.png",className:"flex w-full h-full pb-6"})}),e.jsxs("div",{className:"flex flex-col justify-between",children:[e.jsxs("div",{className:`flex gap-3 pl-8 py-4 items-center cursor-pointer ${a==="table"?"bg-gray text-black ml-6 rounded-l-full shadow-lg":"text-white"}`,onClick:()=>r("table","/store"),children:[e.jsx(T,{className:"text-2xl"}),e.jsx("span",{className:"text-lg",children:"테이블"})]}),e.jsxs("div",{className:`flex gap-3 pl-8 py-4 items-center cursor-pointer ${a==="menu"?"bg-gray text-black ml-6 rounded-l-full shadow-[-3px_5px_0_rgba(0,0,0,0.08)]":"text-white"}`,onClick:()=>r("menu","/store/menu"),children:[e.jsx(A,{className:"text-2xl"}),e.jsx("div",{className:"text-lg",children:"메뉴"})]}),e.jsxs("div",{className:`flex gap-3 pl-8 py-4 items-center cursor-pointer ${a==="review"?"bg-gray text-black ml-6 rounded-l-full shadow-[-3px_5px_0_rgba(0,0,0,0.08)]":"text-white"}`,onClick:()=>r("review","/store/review"),children:[e.jsx(z,{className:"text-2xl"}),e.jsx("div",{className:"text-lg",children:"리뷰관리"})]})]}),e.jsxs("div",{className:`flex gap-3 pl-8 py-4 items-center cursor-pointer ${a==="sales"?"bg-gray text-black ml-6 rounded-l-full shadow-lg":"text-white"}`,onClick:()=>r("sales","/store/sales"),children:[e.jsx($,{className:"text-2xl"}),e.jsx("div",{className:"text-lg",children:"매출확인"})]}),e.jsxs("div",{className:"flex gap-3 pl-8 items-center mt-3 cursor-pointer text-white",onClick:()=>{d("store")},children:[e.jsx(Z,{className:"text-2xl"}),e.jsx("div",{className:"text-lg",children:"내 매장"}),a==="store"?e.jsx(H,{className:"w-6 h-6 mt-3"}):e.jsx(O,{className:"w-6 h-6 mb-3"})]}),a==="store"&&e.jsxs(e.Fragment,{children:[e.jsx(c,{onClick:()=>{l?r("store","/store/info"):s.fire({title:"로그인이 필요한 서비스 입니다.",icon:"error",confirmButtonText:"확인",showConfirmButton:!0,allowOutsideClick:!1})},style:{backgroundColor:x?"#eee":"#4825b6",color:x?"#333":"#fff",boxShadow:x&&"0px 20px 25px -5px rgba(0, 0, 0, 0.1), 0px 10px 10px -5px rgba(0, 0, 0, 0.04)",borderRadius:"2px 0 0 2px"},children:"정보수정"}),e.jsx(c,{onClick:()=>{l?b():s.fire({title:"로그인이 필요한 서비스 입니다.",icon:"error",confirmButtonText:"확인",showConfirmButton:!0,allowOutsideClick:!1})},children:"PIN 변경"}),e.jsx(c,{onClick:()=>{l?(t("/auth/editpw"),f(g)):s.fire({title:"로그인이 필요한 서비스 입니다.",icon:"error",confirmButtonText:"확인",showConfirmButton:!0,allowOutsideClick:!1})},children:"비밀번호 변경"}),e.jsx(c,{onClick:()=>{l?B():s.fire({title:"로그인이 필요한 서비스 입니다.",icon:"error",confirmButtonText:"확인",showConfirmButton:!0,allowOutsideClick:!1})},children:"제휴상태 변경"})]})]}),l!==0?e.jsx("div",{onClick:()=>{window.sessionStorage.removeItem("adminId"),window.sessionStorage.removeItem("restaurantId"),window.sessionStorage.removeItem("coalitionState"),F(),_(),s.fire({title:"로그아웃 되었습니다.",icon:"success",confirmButtonText:"확인",showConfirmButton:!0,allowOutsideClick:!1}).then(i=>{i.isConfirmed&&(t("/store"),location.reload(!0))})},className:"rounded-md bg-darkGray text-white font-bold tracking-wider px-6 py-2 mb-16 cursor-pointer shadow-lg",children:"로그아웃"}):e.jsx("div",{onClick:()=>{f(g),t("/auth")},className:"rounded-md bg-secondary text-white font-bold tracking-wider px-6 py-2 mb-16 cursor-pointer shadow-lg",children:"로그인"}),e.jsx("div",{className:"absolute left-1/2 top-1/2",children:e.jsx(v,{children:e.jsx(V,{mode:"edit",close:C})})})]})};export{L as P,Q as S};
