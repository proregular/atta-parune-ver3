import{u as F,c as j,a3 as q,d as T,j as e,L as U,H as A,C as E,V as P,F as Y,T as Z,m as o,n as r,Y as l,o as z,W as H,X as O,q as R,v as f,Z as M,_ as c,a4 as N}from"./index-QD4sUlUr.js";const W=M({adminId:N(),aid:c().min(6,"최소 6자 이상 작성해야 합니다.").max(12,"최대 12자까지 작성 가능합니다."),apw:c().required("비밀번호는 필수입니다.").min(8,"최소 8자 이상 작성해야 합니다.").max(16,"최대 16자까지 작성 가능합니다.").matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]+$/,"비밀번호는 영어, 숫자, 특수문자만 가능합니다."),name:c().required("이름은 필수입니다.").min(2,"이름은 최소 2자 이상이어야 합니다."),phone:c().required("전화번호는 필수입니다.").matches(/^01([0|1|6|7|8|9])-?([0-9]{3,4})-?([0-9]{4})$/,"전화번호 형식이 올바르지 않습니다.")});function _(){var u,p,x,g;const d=F(),[v,m]=j.useState(!1),[w]=q(),S=w.get("adminId"),{register:n,handleSubmit:y,formState:{errors:t},watch:s,setValue:C}=T({mode:"onChange",resolver:O(W),defaultValues:{phone:""}}),I=s("aid"),V=s("apw"),b=s("name"),D=s("phone"),B=s("adminId"),h=I&&V&&b&&B&&D,$=async a=>{try{await R.put("/api/admin/v3",a),f.fire({title:"회원가입이 완료 되었습니다.",icon:"success",confirmButtonText:"확인",showConfirmButton:!0,allowOutsideClick:!1}).then(i=>{i.isConfirmed&&d("/")}),console.log("보낸 데이터??",a)}catch(i){f.fire({title:"회원가입에 실패 하였습니다.",icon:"error",confirmButtonText:"확인",showConfirmButton:!0,allowOutsideClick:!1}).then(k=>{k.isConfirmed&&m(!1)}),console.log(i)}},L=async a=>{m(i=>!i),$(a),console.log(a)};return j.useEffect(()=>{C("adminId",S)},[]),e.jsxs("div",{children:[e.jsxs(U,{style:{position:"relative"},children:[e.jsx(A,{children:e.jsx(E,{children:e.jsx(P,{style:{width:"100%",height:"100%",cursor:"pointer"},onClick:()=>d(-1)})})}),e.jsx(Y,{children:e.jsxs("form",{onSubmit:y(L),children:[e.jsx(Z,{children:"회원가입"}),e.jsxs(o,{children:[e.jsx(r,{type:"text",placeholder:"아이디",...n("aid")}),e.jsx(l,{children:(u=t.aid)==null?void 0:u.message})]}),e.jsxs(o,{children:[e.jsx(r,{type:"password",placeholder:"비밀번호 (8-16자)",...n("apw")}),e.jsx(l,{children:(p=t.apw)==null?void 0:p.message})]}),e.jsxs(o,{children:[e.jsx(r,{type:"text",placeholder:"이름",...n("name")}),e.jsx(l,{children:(x=t.name)==null?void 0:x.message})]}),e.jsxs(o,{children:[e.jsx(r,{type:"tel",placeholder:"휴대전화번호",maxLength:11,...n("phone")}),e.jsx(l,{children:(g=t.phone)==null?void 0:g.message})]}),e.jsx("div",{style:{marginLeft:20,marginRight:20},children:e.jsx(z,{type:"submit",style:{backgroundColor:h?"#6F4CDB":"#ddd"},disabled:!h,children:"가입하기"})})]})})]}),v&&e.jsx(H,{})]})}export{_ as default};
