import{u as F,b as j,$ as q,c as P,j as e,L as T,H as U,C as A,N as E,F as O,T as Y,k as o,m as r,Y as l,n as z,O as H,P as N,p as R,q as f,Q as Z,V as c,a0 as M}from"./index-BExaS2Py.js";const Q=Z({adminId:M(),aid:c().min(6,"최소 6자 이상 작성해야 합니다.").max(12,"최대 12자까지 작성 가능합니다."),apw:c().required("비밀번호는 필수입니다.").min(8,"최소 8자 이상 작성해야 합니다.").max(16,"최대 16자까지 작성 가능합니다.").matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]+$/,"비밀번호는 영어, 숫자, 특수문자만 가능합니다."),name:c().required("이름은 필수입니다.").min(2,"이름은 최소 2자 이상이어야 합니다."),phone:c().required("전화번호는 필수입니다.").matches(/^01([0|1|6|7|8|9])-?([0-9]{3,4})-?([0-9]{4})$/,"전화번호 형식이 올바르지 않습니다.")});function J(){var u,p,x,g;const d=F(),[w,m]=j.useState(!1),[v]=q(),S=v.get("adminId"),{register:n,handleSubmit:y,formState:{errors:t},watch:s,setValue:C}=P({mode:"onChange",resolver:N(Q),defaultValues:{phone:""}}),b=s("aid"),I=s("apw"),V=s("name"),D=s("phone"),$=s("adminId"),h=b&&I&&V&&$&&D,B=async a=>{try{await R.put("/api/admin/v3",a),f.fire({title:"회원가입이 완료 되었습니다.",icon:"success",confirmButtonText:"확인",showConfirmButton:!0,allowOutsideClick:!1}).then(i=>{i.isConfirmed&&d("/")}),console.log("보낸 데이터??",a)}catch(i){f.fire({title:"회원가입에 실패 하였습니다.",icon:"error",confirmButtonText:"확인",showConfirmButton:!0,allowOutsideClick:!1}).then(L=>{L.isConfirmed&&m(!1)}),console.log(i)}},k=async a=>{m(i=>!i),B(a),console.log(a)};return j.useEffect(()=>{C("adminId",S)},[]),e.jsxs("div",{children:[e.jsxs(T,{style:{position:"relative"},children:[e.jsx(U,{children:e.jsx(A,{children:e.jsx(E,{style:{width:"100%",height:"100%",cursor:"pointer"},onClick:()=>d(-1)})})}),e.jsx(O,{children:e.jsxs("form",{onSubmit:y(k),children:[e.jsx(Y,{children:"회원가입"}),e.jsxs(o,{children:[e.jsx(r,{type:"text",placeholder:"아이디",...n("aid")}),e.jsx(l,{children:(u=t.aid)==null?void 0:u.message})]}),e.jsxs(o,{children:[e.jsx(r,{type:"password",placeholder:"비밀번호 (8-16자)",...n("apw")}),e.jsx(l,{children:(p=t.apw)==null?void 0:p.message})]}),e.jsxs(o,{children:[e.jsx(r,{type:"text",placeholder:"이름",...n("name")}),e.jsx(l,{children:(x=t.name)==null?void 0:x.message})]}),e.jsxs(o,{children:[e.jsx(r,{type:"tel",placeholder:"휴대전화번호",maxLength:11,...n("phone")}),e.jsx(l,{children:(g=t.phone)==null?void 0:g.message})]}),e.jsx("div",{style:{marginLeft:20,marginRight:20},children:e.jsx(z,{type:"submit",style:{backgroundColor:h?"#6F4CDB":"#ddd"},disabled:!h,children:"가입하기"})})]})})]}),w&&e.jsx(H,{})]})}export{J as default};
